\ProvidesPackage{codeenv}

\usepackage{xcolor}
\usepackage{listings}
\usepackage{lstautogobble}
\usepackage{courier}

% Use a monospaced font (courier), for source code listings (because quite frankly you'd be an idiot not to)
\lstset{
    basicstyle=\footnotesize\ttfamily,
    breaklines=true
}

\definecolor{comment}{HTML}{999988}
\definecolor{keyword}{HTML}{222222}
\definecolor{function}{HTML}{445588}
\definecolor{type}{HTML}{555555}

\lstdefinestyle{default}{%
    basicstyle=\scriptsize\ttfamily,
    keywordstyle=\bf\color{function}\ttfamily,
    stringstyle=\color{red}\ttfamily,
    commentstyle=\it\color{comment}\ttfamily,
    morecomment=[l][\color{magenta}]{\#},
    showstringspaces=false,
    numberstyle=\tiny\color{red},
    tabsize=4,
    breaklines,
    numbers=left,
    numberstyle=\tiny\color{type}
}

\lstnewenvironment{code}[2][] {
    \lstset{language=#2,
        style=default,
        autogobble,
        escapechar=ยง,
        #1
    }
}{}

\newcommand{\codefile}[2][]{
    \lstinputlisting[style=default, #1]{#2}
}
